import org.jetbrains.kotlin.gradle.tasks.KotlinCompile

plugins {
    id("java-gradle-plugin")
    id("org.jetbrains.kotlin.jvm") version "1.5.31"
}

repositories {
    gradlePluginPortal()
    google()
}

dependencies {
    implementation(gradleApi())
    implementation("com.project.starter:android:0.38.0")
    implementation("com.gradleup:auto-manifest-plugin:1.0.4")
    implementation("com.google.gms:google-services:4.3.10")
    implementation("com.google.firebase:firebase-crashlytics-gradle:2.7.1")
    implementation("com.slack.keeper:keeper:0.11.1")
    implementation("com.google.firebase:perf-plugin:1.4.0")
    implementation("com.squareup.sqldelight:gradle-plugin:1.5.2")
    implementation("com.android.tools:common:30.0.3")
    implementation("com.karumi:shot:5.11.2")
    implementation("pl.droidsonroids.gradle:plugin:1.0.9")
}

tasks.withType(KotlinCompile).configureEach {
    kotlinOptions.jvmTarget = JavaVersion.current()
}

gradlePlugin {
    plugins {
        screenshotsPlugin {
            id = "io.github.wykopmobilny.screenshots"
            implementationClass = "io.github.wykopmobilny.plugins.ScreenshotTestsPlugin"
        }
    }
}
